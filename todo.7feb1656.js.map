{"version":3,"sources":["src/js/todo.js"],"names":["form","document","querySelector","input","list","TODOS","FINISHED_CN","todoList","saveTodos","localStorage","setItem","JSON","stringify","finishTodo","e","btn","target","li","parentNode","classList","toggle","map","todo","id","parseInt","finish","deleteTodo","removeChild","filter","paintTodo","text","createElement","checkBtn","delBtn","span","newId","length","add","addEventListener","innerText","appendChild","todoObj","push","handleSubmit","preventDefault","currentTodo","value","trim","loadTodos","loadedTodos","getItem","parse","forEach","init"],"mappings":";AAAA,IAAMA,EAAOC,SAASC,cAAc,YAClCC,EAAQH,EAAKE,cAAc,SAC3BE,EAAOH,SAASC,cAAc,cAE1BG,EAAQ,QACRC,EAAc,WAEhBC,EAAW,GAEf,SAASC,IACPC,aAAaC,QAAQL,EAAOM,KAAKC,UAAUL,IAG7C,SAASM,EAAWC,GACZC,IAAAA,EAAMD,EAAEE,OACRC,EAAKF,EAAIG,WACfH,EAAII,UAAUC,OAAOd,GACrBC,EAAWA,EAASc,IAAI,SAAUC,GAIzBA,OAHHA,EAAKC,KAAOC,SAASP,EAAGM,GAAI,MAC9BD,EAAKG,QAAUH,EAAKG,QAEfH,IAETd,IAGF,SAASkB,EAAWZ,GACZC,IACAE,EADMH,EAAEE,OACCE,WACfd,EAAKuB,YAAYV,GACjBV,EAAWA,EAASqB,OAAO,SAAUN,GAC5BA,OAAAA,EAAKC,KAAOC,SAASP,EAAGM,GAAI,MAErCf,IAGF,SAASqB,EAAUP,GACTQ,IAAAA,EAAiBR,EAAjBQ,KAAML,EAAWH,EAAXG,OACRR,EAAKhB,SAAS8B,cAAc,MAC5BC,EAAW/B,SAAS8B,cAAc,KAClCE,EAAShC,SAAS8B,cAAc,KAChCG,EAAOjC,SAAS8B,cAAc,QAC9BI,EAAQ5B,EAAS6B,OAAS,EAEhCJ,EAASb,UAAUkB,IAAI,MAAO,kBAAmBZ,GAAUnB,GAC3D0B,EAASM,iBAAiB,QAASzB,GAEnCoB,EAAOd,UAAUkB,IAAI,MAAO,YAC5BJ,EAAOK,iBAAiB,QAASZ,GAEjCQ,EAAKK,UAAYT,EAEjBb,EAAGuB,YAAYR,GACff,EAAGuB,YAAYN,GACfjB,EAAGuB,YAAYP,GACfhB,EAAGM,GAAKY,EACR/B,EAAKoC,YAAYvB,GACXwB,IAAAA,EAAU,CACdX,KAAAA,EACAP,GAAIY,EACJV,OAAQA,IAAU,GAEpBlB,EAASmC,KAAKD,GACdjC,IAGF,SAASmC,EAAa7B,GACpBA,EAAE8B,iBACIC,IAAAA,EAAc1C,EAAM2C,MAAMC,OAC3BF,GAILhB,EAAU,CAAEC,KAAMe,IAClB1C,EAAM2C,MAAQ,IAJZ3C,EAAM2C,MAAQ,GAOlB,SAASE,IACDC,IAAAA,EAAcxC,aAAayC,QAAQ7C,GACrC4C,GACkBtC,KAAKwC,MAAMF,GACnBG,QAAQ,SAAU9B,GAC5BO,EAAUP,KAKhB,SAAS+B,IACPL,IACAhD,EAAKsC,iBAAiB,SAAUK,GAGlCU","file":"todo.7feb1656.js","sourceRoot":"..","sourcesContent":["const form = document.querySelector(\".js-todo\"),\n  input = form.querySelector(\"input\"),\n  list = document.querySelector(\".todo-list\");\n\nconst TODOS = \"todos\";\nconst FINISHED_CN = \"finished\";\n\nlet todoList = [];\n\nfunction saveTodos() {\n  localStorage.setItem(TODOS, JSON.stringify(todoList));\n}\n\nfunction finishTodo(e) {\n  const btn = e.target;\n  const li = btn.parentNode;\n  btn.classList.toggle(FINISHED_CN);\n  todoList = todoList.map(function (todo) {\n    if (todo.id === parseInt(li.id, 10)) {\n      todo.finish = !todo.finish;\n    }\n    return todo;\n  });\n  saveTodos();\n}\n\nfunction deleteTodo(e) {\n  const btn = e.target;\n  const li = btn.parentNode;\n  list.removeChild(li);\n  todoList = todoList.filter(function (todo) {\n    return todo.id !== parseInt(li.id, 10);\n  });\n  saveTodos();\n}\n\nfunction paintTodo(todo) {\n  const { text, finish } = todo;\n  const li = document.createElement(\"li\");\n  const checkBtn = document.createElement(\"i\");\n  const delBtn = document.createElement(\"i\");\n  const span = document.createElement(\"span\");\n  const newId = todoList.length + 1;\n\n  checkBtn.classList.add(\"far\", \"fa-check-circle\", finish && FINISHED_CN);\n  checkBtn.addEventListener(\"click\", finishTodo);\n\n  delBtn.classList.add(\"fas\", \"fa-trash\");\n  delBtn.addEventListener(\"click\", deleteTodo);\n\n  span.innerText = text;\n\n  li.appendChild(checkBtn);\n  li.appendChild(span);\n  li.appendChild(delBtn);\n  li.id = newId;\n  list.appendChild(li);\n  const todoObj = {\n    text,\n    id: newId,\n    finish: finish || false,\n  };\n  todoList.push(todoObj);\n  saveTodos();\n}\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n  const currentTodo = input.value.trim();\n  if (!currentTodo) {\n    input.value = \"\";\n    return;\n  }\n  paintTodo({ text: currentTodo });\n  input.value = \"\";\n}\n\nfunction loadTodos() {\n  const loadedTodos = localStorage.getItem(TODOS);\n  if (loadedTodos) {\n    const parsedTodos = JSON.parse(loadedTodos);\n    parsedTodos.forEach(function (todo) {\n      paintTodo(todo);\n    });\n  }\n}\n\nfunction init() {\n  loadTodos();\n  form.addEventListener(\"submit\", handleSubmit);\n}\n\ninit();\n"]}